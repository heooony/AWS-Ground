![Header (4)](https://user-images.githubusercontent.com/68142821/183649954-85df161d-7da4-4186-ad0e-9c5afe302cae.png)

# AWS Key Management Service (AWS KMS)

<img width="100" alt="image" src="https://user-images.githubusercontent.com/68142821/183649973-74b9e2e1-2f7e-499c-aadf-a300f8fa8a56.png">

## 1. KMS의 사용

> 최근 업데이트 : 2022.08.09

> Tip :
> 
> AWS KMS는 CMK(Customer Master Key)라는 용어가 KMS key으로 바뀐 것입니다. 개념은 바뀌지 않았습니다.

> Tip :
> 
> AWS KMS는 무료가 아닙니다! 프리 티어 범위를 초과하는 KMS에 대해서는 지정된 요청 건수당 요금이 부과됩니다. 예를 들어 Amazon S3를 위한 KMS를 제작한다고 했을 때 1개의 KMS 키는 1.00USD 이며, 10,000건의 암호와 요청당 대략 0.03USD가 부과됩니다.

KMS keys는 AWS KMS의 기본 리소스입니다. KMS키를 사용하면 **데이터를 암호화 하거나 해독, 다시 암호화** 할 수 있습니다. 또한 외부에서 사용할 수 있는 데이터 키를 생성할 수 있습니다.

예를 들어, RDS 데이터베이스 서비스를 통해서 데이터를 저장한다고 했을 때, 해당하는 데이터를 안전하게 지키기 위해 **기본 키**로 지급이 되는 키를 사용하지 않고 직접 만들어서 사용한다는 의미입니다.

KMS의 종류에는 3가지가 있습니다.
- AWS 관리형 키
- 고객 관리형 키
- 사용자 지정 키 스토어

## 1.1 AWS 관리형 키
> Tip :
>
> AWS KMS는 AWS 관리형 키에 대한 교체 일정을 3년에서 매년으로 변경했습니다. 즉, 새 AWS 관리형 키는 생성된 후 1년이 지나면 자동으로 교체되고, 그 후에도 매년 자동으로 교체됩니다.

AWS에서 직접적으로 제공하는 서비스를 사용할 때 쓰게 되는 키입니다. 우리가 관리하는 것이 아닌 AWS에서 직접적으로 관리하며 그에 따라 KMS 키를 관리하거나 교체 및 키 정책을 변경할 수 없습니다. 

## 1.2 고객 관리형 키
사용자가 직접 생성하는 KMS 키는 고객 관리형 키입니다. 사용자는 키 정책, IAM정책 및 권한 부여의 설정 및 유지 관리 등을 포함하여 KMS키에 대한 완전한 제어 권한을 가집니다.

### 2.1 프리티어 기준

지표	
기본 모니터링 지표(5분 간격)

세부 모니터링 지표 10개(1분 간격)

 1백만 개의 API 요청(GetMetricData 및 GetMetricWidgetImage에는 해당되지 않음)

대시보드	월별 최대 50개의 지표를 제공하는 대시보드 3개
경보	경보 지표 10개(고분해능 경보에는 적용되지 않음)
로그	5GB 데이터(수집, 아카이브 스토리지, Logs Insights 쿼리로 스캔한 데이터)
이벤트	사용자 지정 이벤트를 제외한 모든 이벤트가 포함됨
Contributor Insights	
매월 1개의 Contributor Insights 규칙

매월 규칙과 일치하는 첫 번째 백만 로그 이벤트

Synthetics	매월 100번의 카나리 실행
Evidently	첫 번째 무료 평가판에는 계정당 300만 개의 Evidently 이벤트와 1000만 개의 Evidently 분석 단위가 포함됩니다.
RUM	첫 번째 무료 평가판에는 계정당 100만 개의 RUM 이벤트가 포함됩니다.

### 2.2 유료 정책
## 3. 개요